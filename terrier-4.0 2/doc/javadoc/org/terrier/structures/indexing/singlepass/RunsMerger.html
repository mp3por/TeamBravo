<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_45) on Wed Jun 18 18:20:27 BST 2014 -->
<title>RunsMerger (Terrier 4.0 API)</title>
<meta name="date" content="2014-06-18">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="RunsMerger (Terrier 4.0 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/RunsMerger.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/terrier/structures/indexing/singlepass/RunIteratorFactory.html" title="class in org.terrier.structures.indexing.singlepass"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/terrier/structures/indexing/singlepass/RunsMerger.PostingComparator.html" title="class in org.terrier.structures.indexing.singlepass"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/terrier/structures/indexing/singlepass/RunsMerger.html" target="_top">Frames</a></li>
<li><a href="RunsMerger.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.terrier.structures.indexing.singlepass</div>
<h2 title="Class RunsMerger" class="title">Class RunsMerger</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.terrier.structures.indexing.singlepass.RunsMerger</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../../org/terrier/structures/indexing/singlepass/hadoop/HadoopRunsMerger.html" title="class in org.terrier.structures.indexing.singlepass.hadoop">HadoopRunsMerger</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">RunsMerger</span>
extends <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">Merges a set of N runs using a priority queue. Each element of the queue is a <a href="../../../../../org/terrier/structures/indexing/singlepass/RunIterator.html" title="class in org.terrier.structures.indexing.singlepass"><code>RunIterator</code></a>
 each one pointing at a different run in disk. Each run is sorted, so we only need to compare the heads of the 
 element in the queue in each merging step.
 As the runs are being merged, they are written (to disk) using a <a href="../../../../../org/terrier/compression/bit/BitOut.html" title="interface in org.terrier.compression.bit"><code>BitOut</code></a>.</div>
<dl><dt><span class="strong">Since:</span></dt>
  <dd>2.0</dd>
<dt><span class="strong">Author:</span></dt>
  <dd>Roi Blanco and Craig Macdonald</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/terrier/structures/indexing/singlepass/RunsMerger.PostingComparator.html" title="class in org.terrier.structures.indexing.singlepass">RunsMerger.PostingComparator</a></strong></code>
<div class="block">Implements a comparator for RunIterators (so it can be used by the queue).</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../org/terrier/compression/bit/BitOut.html" title="interface in org.terrier.compression.bit">BitOut</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/terrier/structures/indexing/singlepass/RunsMerger.html#bos">bos</a></strong></code>
<div class="block">BitOut used to write the merged postings to disk</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/terrier/structures/indexing/singlepass/RunsMerger.html#currentTerm">currentTerm</a></strong></code>
<div class="block">Number of terms written</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/terrier/structures/indexing/singlepass/RunsMerger.html#lastDocFreq">lastDocFreq</a></strong></code>
<div class="block">Last document's frequency</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/terrier/structures/indexing/singlepass/RunsMerger.html#lastDocument">lastDocument</a></strong></code>
<div class="block">Last document written in the stream</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/terrier/structures/indexing/singlepass/RunsMerger.html#lastFreq">lastFreq</a></strong></code>
<div class="block">Frequency in the run of the last term merged</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/terrier/structures/indexing/singlepass/RunsMerger.html#lastTermWritten">lastTermWritten</a></strong></code>
<div class="block">Last term written to disk (useful for terms appearing in mutiple runs</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../org/terrier/structures/indexing/singlepass/RunIterator.html" title="class in org.terrier.structures.indexing.singlepass">RunIterator</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/terrier/structures/indexing/singlepass/RunsMerger.html#myRun">myRun</a></strong></code>
<div class="block">RunReader reference for merging</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/terrier/structures/indexing/singlepass/RunsMerger.html#numberOfPointers">numberOfPointers</a></strong></code>
<div class="block">Number of pointers written</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="http://download.oracle.com/javase/6/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../../../org/terrier/structures/indexing/singlepass/RunIterator.html" title="class in org.terrier.structures.indexing.singlepass">RunIterator</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/terrier/structures/indexing/singlepass/RunsMerger.html#queue">queue</a></strong></code>
<div class="block">Heap for the postings coming from different runs.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../org/terrier/structures/indexing/singlepass/RunIteratorFactory.html" title="class in org.terrier.structures.indexing.singlepass">RunIteratorFactory</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/terrier/structures/indexing/singlepass/RunsMerger.html#runsSource">runsSource</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../org/terrier/structures/BitFilePosition.html" title="interface in org.terrier.structures">BitFilePosition</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/terrier/structures/indexing/singlepass/RunsMerger.html#startOffset">startOffset</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../org/terrier/structures/LexiconEntry.html" title="class in org.terrier.structures">LexiconEntry</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/terrier/structures/indexing/singlepass/RunsMerger.html#termStatistics">termStatistics</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../org/terrier/structures/indexing/singlepass/RunsMerger.html#RunsMerger(org.terrier.structures.indexing.singlepass.RunIteratorFactory)">RunsMerger</a></strong>(<a href="../../../../../org/terrier/structures/indexing/singlepass/RunIteratorFactory.html" title="class in org.terrier.structures.indexing.singlepass">RunIteratorFactory</a>&nbsp;_runsSource)</code>
<div class="block">constructor</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/terrier/structures/indexing/singlepass/RunsMerger.html#beginMerge(int, java.lang.String)">beginMerge</a></strong>(int&nbsp;size,
          <a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fileName)</code>
<div class="block">Begins the multiway merging phase.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/terrier/structures/indexing/singlepass/RunsMerger.html#endMerge(org.terrier.structures.LexiconOutputStream)">endMerge</a></strong>(<a href="../../../../../org/terrier/structures/LexiconOutputStream.html" title="class in org.terrier.structures">LexiconOutputStream</a>&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;lexStream)</code>
<div class="block">Ends the merging phase, writes the last entry and closes the streams.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>byte</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/terrier/structures/indexing/singlepass/RunsMerger.html#getBitOffset()">getBitOffset</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/terrier/compression/bit/BitOut.html" title="interface in org.terrier.compression.bit">BitOut</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/terrier/structures/indexing/singlepass/RunsMerger.html#getBos()">getBos</a></strong>()</code>
<div class="block">getBos</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/terrier/structures/indexing/singlepass/RunsMerger.html#getByteOffset()">getByteOffset</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/terrier/structures/indexing/singlepass/RunsMerger.html#getLastDocFreq()">getLastDocFreq</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/terrier/structures/indexing/singlepass/RunsMerger.html#getLastFreq()">getLastFreq</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/terrier/structures/indexing/singlepass/RunsMerger.html#getLastTermWritten()">getLastTermWritten</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/terrier/structures/indexing/singlepass/RunsMerger.html#getNumberOfPointers()">getNumberOfPointers</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/terrier/structures/indexing/singlepass/RunsMerger.html#getNumberOfTerms()">getNumberOfTerms</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/terrier/structures/indexing/singlepass/RunsMerger.html#init(int, org.terrier.compression.bit.BitOut)">init</a></strong>(int&nbsp;size,
    <a href="../../../../../org/terrier/compression/bit/BitOut.html" title="interface in org.terrier.compression.bit">BitOut</a>&nbsp;invertedFile)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/terrier/structures/indexing/singlepass/RunsMerger.html#init(int, java.lang.String)">init</a></strong>(int&nbsp;size,
    <a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fileName)</code>
<div class="block">Begins the merge, initilialising the structures.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/terrier/structures/indexing/singlepass/RunsMerger.html#isDone()">isDone</a></strong>()</code>
<div class="block">Indicates whether the merging is done or not</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/terrier/structures/indexing/singlepass/RunsMerger.html#mergeOne(org.terrier.structures.LexiconOutputStream)">mergeOne</a></strong>(<a href="../../../../../org/terrier/structures/LexiconOutputStream.html" title="class in org.terrier.structures">LexiconOutputStream</a>&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;lexStream)</code>
<div class="block">Mergers one term in the runs.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/terrier/structures/indexing/singlepass/RunsMerger.html#setBos(org.terrier.compression.bit.BitOut)">setBos</a></strong>(<a href="../../../../../org/terrier/compression/bit/BitOut.html" title="interface in org.terrier.compression.bit">BitOut</a>&nbsp;_bos)</code>
<div class="block">setBos</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/terrier/structures/indexing/singlepass/RunsMerger.html#setLastTermWritten(java.lang.String)">setLastTermWritten</a></strong>(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;_lastTermWritten)</code>
<div class="block">Setter for the last term written.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="queue">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>queue</h4>
<pre>protected&nbsp;<a href="http://download.oracle.com/javase/6/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../../../org/terrier/structures/indexing/singlepass/RunIterator.html" title="class in org.terrier.structures.indexing.singlepass">RunIterator</a>&gt; queue</pre>
<div class="block">Heap for the postings coming from different runs.
 It uses an alphabetical order using the terms</div>
</li>
</ul>
<a name="bos">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bos</h4>
<pre>protected&nbsp;<a href="../../../../../org/terrier/compression/bit/BitOut.html" title="interface in org.terrier.compression.bit">BitOut</a> bos</pre>
<div class="block">BitOut used to write the merged postings to disk</div>
</li>
</ul>
<a name="lastTermWritten">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lastTermWritten</h4>
<pre>protected&nbsp;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> lastTermWritten</pre>
<div class="block">Last term written to disk (useful for terms appearing in mutiple runs</div>
</li>
</ul>
<a name="termStatistics">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>termStatistics</h4>
<pre>protected&nbsp;<a href="../../../../../org/terrier/structures/LexiconEntry.html" title="class in org.terrier.structures">LexiconEntry</a> termStatistics</pre>
</li>
</ul>
<a name="lastFreq">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lastFreq</h4>
<pre>protected&nbsp;int lastFreq</pre>
<div class="block">Frequency in the run of the last term merged</div>
</li>
</ul>
<a name="lastDocument">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lastDocument</h4>
<pre>protected&nbsp;int lastDocument</pre>
<div class="block">Last document written in the stream</div>
</li>
</ul>
<a name="lastDocFreq">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lastDocFreq</h4>
<pre>protected&nbsp;int lastDocFreq</pre>
<div class="block">Last document's frequency</div>
</li>
</ul>
<a name="myRun">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>myRun</h4>
<pre>protected&nbsp;<a href="../../../../../org/terrier/structures/indexing/singlepass/RunIterator.html" title="class in org.terrier.structures.indexing.singlepass">RunIterator</a> myRun</pre>
<div class="block">RunReader reference for merging</div>
</li>
</ul>
<a name="currentTerm">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>currentTerm</h4>
<pre>protected&nbsp;int currentTerm</pre>
<div class="block">Number of terms written</div>
</li>
</ul>
<a name="numberOfPointers">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>numberOfPointers</h4>
<pre>protected&nbsp;int numberOfPointers</pre>
<div class="block">Number of pointers written</div>
</li>
</ul>
<a name="startOffset">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startOffset</h4>
<pre>protected&nbsp;<a href="../../../../../org/terrier/structures/BitFilePosition.html" title="interface in org.terrier.structures">BitFilePosition</a> startOffset</pre>
</li>
</ul>
<a name="runsSource">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>runsSource</h4>
<pre>protected&nbsp;<a href="../../../../../org/terrier/structures/indexing/singlepass/RunIteratorFactory.html" title="class in org.terrier.structures.indexing.singlepass">RunIteratorFactory</a> runsSource</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="RunsMerger(org.terrier.structures.indexing.singlepass.RunIteratorFactory)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>RunsMerger</h4>
<pre>public&nbsp;RunsMerger(<a href="../../../../../org/terrier/structures/indexing/singlepass/RunIteratorFactory.html" title="class in org.terrier.structures.indexing.singlepass">RunIteratorFactory</a>&nbsp;_runsSource)</pre>
<div class="block">constructor</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>_runsSource</code> - </dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getLastFreq()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLastFreq</h4>
<pre>public&nbsp;int&nbsp;getLastFreq()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>the last frequency written.</dd></dl>
</li>
</ul>
<a name="getLastDocFreq()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLastDocFreq</h4>
<pre>public&nbsp;int&nbsp;getLastDocFreq()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>the last document frequency written.</dd></dl>
</li>
</ul>
<a name="getNumberOfTerms()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNumberOfTerms</h4>
<pre>public&nbsp;int&nbsp;getNumberOfTerms()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>the number of terms written.</dd></dl>
</li>
</ul>
<a name="getNumberOfPointers()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNumberOfPointers</h4>
<pre>public&nbsp;int&nbsp;getNumberOfPointers()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>the number of pointers written.</dd></dl>
</li>
</ul>
<a name="isDone()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isDone</h4>
<pre>public&nbsp;boolean&nbsp;isDone()</pre>
<div class="block">Indicates whether the merging is done or not</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>true if there are no more elements to merge</dd></dl>
</li>
</ul>
<a name="getByteOffset()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getByteOffset</h4>
<pre>public&nbsp;long&nbsp;getByteOffset()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>the byte offset in the BitOut (used for lexicon writting)</dd></dl>
</li>
</ul>
<a name="getBitOffset()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBitOffset</h4>
<pre>public&nbsp;byte&nbsp;getBitOffset()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>the bit offset in the BitOut (used for lexicon writting)</dd></dl>
</li>
</ul>
<a name="getLastTermWritten()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLastTermWritten</h4>
<pre>public&nbsp;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getLastTermWritten()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>the String with the last term written to disk.</dd></dl>
</li>
</ul>
<a name="setLastTermWritten(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setLastTermWritten</h4>
<pre>public&nbsp;void&nbsp;setLastTermWritten(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;_lastTermWritten)</pre>
<div class="block">Setter for the last term written.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>_lastTermWritten</code> - String with the last term written.</dd></dl>
</li>
</ul>
<a name="init(int, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init</h4>
<pre>protected&nbsp;void&nbsp;init(int&nbsp;size,
        <a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fileName)
             throws <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block">Begins the merge, initilialising the structures.
 Notice that the file names must be in order of run-id</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>size</code> - number of runs in disk.</dd><dd><code>fileName</code> - String with the file name of the final inverted file.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if an I/O error occurs.</dd>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd></dl>
</li>
</ul>
<a name="init(int, org.terrier.compression.bit.BitOut)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init</h4>
<pre>protected&nbsp;void&nbsp;init(int&nbsp;size,
        <a href="../../../../../org/terrier/compression/bit/BitOut.html" title="interface in org.terrier.compression.bit">BitOut</a>&nbsp;invertedFile)
             throws <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd></dl>
</li>
</ul>
<a name="beginMerge(int, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>beginMerge</h4>
<pre>public&nbsp;void&nbsp;beginMerge(int&nbsp;size,
              <a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fileName)
                throws <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block">Begins the multiway merging phase.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>size</code> - number of runs to be merged.</dd><dd><code>fileName</code> - output filename.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code> - if an I/O error occurs.</dd></dl>
</li>
</ul>
<a name="mergeOne(org.terrier.structures.LexiconOutputStream)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mergeOne</h4>
<pre>public&nbsp;void&nbsp;mergeOne(<a href="../../../../../org/terrier/structures/LexiconOutputStream.html" title="class in org.terrier.structures">LexiconOutputStream</a>&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;lexStream)
              throws <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block">Mergers one term in the runs. If a run is exhausted, it is closed and removed from the queue.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>lexStream</code> - LexiconOutputStream used to write the lexicon.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code> - if an I/O error occurs.</dd></dl>
</li>
</ul>
<a name="endMerge(org.terrier.structures.LexiconOutputStream)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>endMerge</h4>
<pre>public&nbsp;void&nbsp;endMerge(<a href="../../../../../org/terrier/structures/LexiconOutputStream.html" title="class in org.terrier.structures">LexiconOutputStream</a>&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;lexStream)
              throws <a href="http://download.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Ends the merging phase, writes the last entry and closes the streams.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>lexStream</code> - LexiconOutputStream used to write the lexicon.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if an I/O error occurs.</dd></dl>
</li>
</ul>
<a name="getBos()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBos</h4>
<pre>public&nbsp;<a href="../../../../../org/terrier/compression/bit/BitOut.html" title="interface in org.terrier.compression.bit">BitOut</a>&nbsp;getBos()</pre>
<div class="block">getBos</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>BitOut</dd></dl>
</li>
</ul>
<a name="setBos(org.terrier.compression.bit.BitOut)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setBos</h4>
<pre>public&nbsp;void&nbsp;setBos(<a href="../../../../../org/terrier/compression/bit/BitOut.html" title="interface in org.terrier.compression.bit">BitOut</a>&nbsp;_bos)</pre>
<div class="block">setBos</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>_bos</code> - </dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/RunsMerger.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/terrier/structures/indexing/singlepass/RunIteratorFactory.html" title="class in org.terrier.structures.indexing.singlepass"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/terrier/structures/indexing/singlepass/RunsMerger.PostingComparator.html" title="class in org.terrier.structures.indexing.singlepass"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/terrier/structures/indexing/singlepass/RunsMerger.html" target="_top">Frames</a></li>
<li><a href="RunsMerger.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small><a href='http://terrier.org/'>Terrier</a> 4.0. Copyright &copy; 2004-2014 <a href='http://www.gla.ac.uk/'>University of Glasgow</a></small></p>
</body>
</html>
